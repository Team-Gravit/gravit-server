-- Unit: 데드락 (Unit ID: 64)
-- Chapter: 운영체제 (Chapter ID: 5)

-- Lesson 생성
INSERT INTO lesson (id, unit_id, title)
VALUES (188, 64, '데드락 개념과 발생 조건'),
       (189, 64, '데드락 해결 방법1'),
       (190, 64, '데드락 해결 방법2');

-- ===== Lesson 1: 데드락 개념과 발생 조건 =====
INSERT INTO problem (id, lesson_id, instruction, content, problem_type)
VALUES (1307, 188, '빈칸에 들어갈 용어를 작성하시오', '데드락 발생 조건 중 자원을 가진 채로 다른 자원을 점유하기 위해 대기하는 조건을 ___라고 한다.', 'SUBJECTIVE'),
       (1308, 188, '빈칸에 들어갈 용어를 작성하시오', '데드락 발생 조건 중 자원을 강제로 빼앗을 수 없다는 조건을 ___라고 한다.', 'SUBJECTIVE'),
       (1309, 188, '다음 중 데드락 발생 조건이 아닌 것은?', '데드락이 발생하기 위해서는 4가지 조건이 모두 충족되어야 한다.', 'OBJECTIVE'),
       (1310, 188, '빈칸에 들어갈 용어를 작성하시오', '데드락 발생 조건 중 한 번에 하나의 프로세스만 자원을 사용할 수 있다는 조건을 ___라고 한다.', 'SUBJECTIVE'),
       (1311, 188, '빈칸에 들어갈 용어를 작성하시오', '데드락 발생 조건 중 대기 프로세스들이 원형으로 서로의 자원을 기다리는 조건을 ___라고 한다.', 'SUBJECTIVE'),
       (1312, 188, '다음 중 데드락의 정의로 올바른 것은?', '데드락은 둘 이상의 프로세스 또는 스레드가 자원을 기다리며 진행하지 못하는 상태이다.', 'OBJECTIVE');

INSERT INTO option (id, problem_id, content, explanation, is_answer)
VALUES
-- 문제 1309
(3723, 1309, '자원 공유', '데드락 발생 조건이 아니다.', true),
(3724, 1309, '상호 배제', '데드락 발생 조건이다.', false),
(3725, 1309, '점유 대기', '데드락 발생 조건이다.', false),
(3726, 1309, '순환 대기', '데드락 발생 조건이다.', false),

-- 문제 1312
(3727, 1312, '둘 이상의 프로세스 또는 스레드가 서로 점유한 자원을 기다리며 영원히 진행하지 못하는 상태이다', '데드락의 정의이다.', true),
(3728, 1312, 'CPU가 부족하여 실행이 지연되는 상태이다', '데드락의 정의가 아니다.', false),
(3729, 1312, '메모리가 부족하여 스와핑이 증가하는 상태이다', '데드락의 정의가 아니다.', false),
(3730, 1312, '하나의 프로세스가 단독으로 자원을 오래 점유하는 상태이다', '데드락의 정의가 아니다.', false);

INSERT INTO answer (id, problem_id, content, explanation)
VALUES (375, 1307, '점유 대기', '자원을 가진 채로 다른 자원을 기다리는 조건이다.'),
       (376, 1308, '비선점', '자원을 강제로 빼앗을 수 없다는 조건이다.'),
       (377, 1310, '상호 배제', '한 번에 하나의 프로세스만 자원을 사용할 수 있다는 조건이다.'),
       (378, 1311, '순환 대기', '대기 프로세스들이 원형으로 서로의 자원을 기다리는 조건이다.');


-- ===== Lesson 2: 데드락 해결 방법1 =====
INSERT INTO problem (id, lesson_id, instruction, content, problem_type)
VALUES (1313, 189, '다음 중 데드락 예방 방법으로 올바른 것은?', '데드락 예방은 발생 조건 4가지 중 하나라도 발생하지 않도록 하는 방법이다.', 'OBJECTIVE'),
       (1314, 189, '아래 제시한 개념에 대한 설명으로 옳은 것은?', '은행원 알고리즘은 데드락 회피를 위한 대표적인 알고리즘이다.', 'OBJECTIVE'),
       (1315, 189, '빈칸에 들어갈 용어를 작성하시오', '데드락 탐지를 위해 프로세스와 자원을 정점, 자원 요청 관계와 할당 관계를 간선으로 나타낸 그래프를 ___그래프 라고 한다.', 'SUBJECTIVE'),
       (1316, 189, '아래 제시한 개념에 대한 설명으로 옳은 것은?', '데드락 회복은 발생한 데드락을 해결하는 방법이다.', 'OBJECTIVE'),
       (1317, 189, '빈칸에 들어갈 용어를 작성하시오', '은행원 알고리즘에서 불안정 상태가 예상되면 다른 프로세스가 끝날 때까지 대기하며, 자원 할당이 데드락을 발생시키지 않는 ___일 경우에만 자원을 할당한다.', 'SUBJECTIVE'),
       (1318, 189, '다음 중 데드락 회복 시 희생자 선택 기준으로 올바른 것은?', '데드락 회복을 위해 프로세스를 종료하거나 자원을 선점할 때 희생자를 선택해야 한다.', 'OBJECTIVE');

INSERT INTO option (id, problem_id, content, explanation, is_answer)
VALUES
-- 문제 1313
(3731, 1313, '필요한 모든 자원을 한꺼번에 요청하여 점유 대기를 방지한다', '점유 대기 조건을 제거하는 데드락 예방 방법이다.', true),
(3732, 1313, '주기적으로 데드락이 발생했는지 확인한다', '데드락 탐지 방법이다.', false),
(3733, 1313, '은행원 알고리즘을 사용하여 안전 상태일 때만 자원을 할당한다', '데드락 회피 방법이다.', false),
(3734, 1313, '데드락이 발생하면 프로세스를 종료시킨다', '데드락 회복 방법이다.', false),

-- 문제 1314
(3735, 1314, '프로세스 시작 시 필요한 자원의 최대 개수를 미리 선언한다', '은행원 알고리즘의 핵심 특징이다.', true),
(3736, 1314, '데드락 발생 조건 중 하나를 제거하는 방법이다', '데드락 예방 방법이다.', false),
(3737, 1314, '자원 할당 그래프의 순환을 주기적으로 확인한다', '데드락 탐지 방법이다.', false),
(3738, 1314, '데드락이 발생한 후 프로세스를 종료시킨다', '데드락 회복 방법이다.', false),

-- 문제 1316
(3739, 1316, '특정 프로세스로부터 자원을 회수하여 다른 프로세스에게 할당한다', '자원 선점 방식의 데드락 회복 방법이다.', true),
(3740, 1316, '원형이 아닌 한 방향으로만 자원을 요구하도록 한다', '데드락 예방 방법이다.', false),
(3741, 1316, '안전 상태일 때만 자원을 할당한다', '데드락 회피 방법이다.', false),
(3742, 1316, '필요한 모든 자원을 한꺼번에 요청한다', '데드락 예방 방법이다.', false),

-- 문제 1318
(3743, 1318, '가장 먼저 시작된 프로세스를 선택한다', '희생자 선택 기준이 아니다.', false),
(3744, 1318, '우선순위가 낮고 시스템에 미치는 영향이 적은 프로세스를 선택한다', '올바른 희생자 선택 기준이다.', true),
(3745, 1318, '가장 많은 자원을 보유한 프로세스를 선택한다', '절대적인 기준이 아니다.', false),
(3746, 1318, '필요한 자원의 최대 개수가 가장 많은 프로세스를 선택한다', '희생자 선택 기준이 아니다.', false);

INSERT INTO answer (id, problem_id, content, explanation)
VALUES (379, 1315, '자원 할당', '데드락 탐지를 위해 사용하는 그래프이다.'),
       (380, 1317, '안전 상태', '은행원 알고리즘에서 자원을 할당할 수 있는 상태이다.');


-- ===== Lesson 3: 데드락 해결 방법2 =====
INSERT INTO problem (id, lesson_id, instruction, content, problem_type)
VALUES (1319, 190, '아래 제시한 개념에 대한 설명으로 옳은 것은?', '데드락 회피는 시스템이 안전 상태를 유지하도록 자원을 할당하는 방법이다.', 'OBJECTIVE'),
       (1320, 190, '아래 제시한 개념에 대한 설명으로 옳은 것은?', '데드락 탐지는 주기적으로 데드락 발생 여부를 확인하는 방법이다.', 'OBJECTIVE'),
       (1321, 190, '빈칸에 들어갈 용어를 작성하시오', '데드락 회복 방법 중 ___은 특정 프로세스로부터 자원을 회수하여 다른 프로세스에게 할당하는 방법이다.', 'SUBJECTIVE'),
       (1322, 190, '다음 중 데드락 예방 방법의 단점으로 올바른 것은?', '데드락 예방은 발생 조건 4가지 중 하나라도 발생하지 않도록 하는 방법이다.', 'OBJECTIVE'),
       (1323, 190, '아래 제시한 개념에 대한 설명으로 옳은 것은?', '자원 할당 그래프는 데드락 탐지를 위해 사용되는 그래프이다.', 'OBJECTIVE'),
       (1324, 190, '다음 중 데드락 회복 방법 중 프로세스 종료에 대한 설명으로 올바르지 않은 것은?', '데드락 회복을 위해 프로세스를 종료시키는 방법이 있다.', 'OBJECTIVE');

INSERT INTO option (id, problem_id, content, explanation, is_answer)
VALUES
-- 문제 1319
(3747, 1319, '안전 순서가 존재하면 안전 상태이다', '안전 순서가 존재할 때 안전 상태로 판단한다.', true),
(3748, 1319, '상호 배제 조건을 제거하여 데드락을 방지한다', '데드락 예방 방법이다.', false),
(3749, 1319, '자원 할당 그래프의 순환을 주기적으로 확인한다', '데드락 탐지 방법이다.', false),
(3750, 1319, '데드락이 발생하면 모든 프로세스를 종료시킨다', '데드락 회복 방법이다.', false),

-- 문제 1320
(3751, 1320, '탐지 알고리즘으로 끝낼 수 있는 프로세스가 남아있는지 반복 확인한다', '데드락 탐지 알고리즘의 핵심이다.', true),
(3752, 1320, '프로세스 시작 시 필요한 자원의 최대 개수를 미리 선언한다', '은행원 알고리즘의 특징이다.', false),
(3753, 1320, '비선점 조건을 제거하여 데드락을 방지한다', '데드락 예방 방법이다.', false),
(3754, 1320, '안전 상태일 경우에만 자원을 할당한다', '데드락 회피 방법이다.', false),

-- 문제 1322
(3755, 1322, '주기적으로 데드락을 확인해야 하므로 오버헤드가 발생한다', '데드락 탐지 방법의 단점이다.', false),
(3756, 1322, '데드락 발생 후에만 적용할 수 있다', '회복 방법의 특징이다.', false),
(3757, 1322, '프로세스 시작 시 필요한 자원의 최대 개수를 미리 알아야 한다', '은행원 알고리즘의 단점이다.', false),
(3758, 1322, '성능이 떨어지거나 자원 활용이 비효율적일 수 있다', '데드락 예방 방법의 단점이다.', true),

-- 문제 1323
(3759, 1323, '프로세스만 정점으로 표현하고 자원은 간선으로 표현한다', '자원도 정점으로 표현한다.', false),
(3760, 1323, '안전 상태인지 확인하기 위해 사용되는 알고리즘이다', '은행원 알고리즘 설명이다.', false),
(3761, 1323, '필요한 자원의 최대 개수를 미리 선언하기 위해 사용된다', '은행원 알고리즘의 특징이다.', false),
(3762, 1323, '순환이 존재하면 데드락이 발생할 수 있다', '자원 할당 그래프의 핵심 특징이다.', true),

-- 문제 1324
(3763, 1324, '하나씩 종료할 때는 어떤 프로세스를 먼저 종료할 지 선택해야 한다', '희생자 선택이 필요하다.', false),
(3764, 1324, '어떤 프로세스를 먼저 종료시킬지는 우선순위의 영향이 미친다', '희생자 선택 기준 중 하나이다.', false),
(3765, 1324, '모든 프로세스를 종료하는 방법과 하나씩 종료하는 방법이 있다', '회복 방법의 설명이다.', false),
(3766, 1324, '모든 프로세스를 종료하면 부작용이 발생하지 않는다', '진행 중인 프로세스도 종료되어 부작용이 발생한다.', true);

INSERT INTO answer (id, problem_id, content, explanation)
VALUES (381, 1321, '자원 선점', '특정 프로세스로부터 자원을 회수하여 다른 프로세스에게 할당하는 데드락 회복 방법이다.');


