-- Unit: 시스템 콜 (Unit ID: 58)
-- Chapter: 운영체제 (Chapter ID: 5)

-- Lesson 생성
INSERT INTO lesson (id, unit_id, title)
VALUES (170, 58, '시스템 콜 기초'),
       (171, 58, '주요 시스템 콜'),
       (172, 58, '시스템 콜 비교');

-- ===== Lesson 1: 시스템 콜 기초 =====

INSERT INTO problem (id, lesson_id, instruction, content, problem_type)
VALUES (1181, 170, '아래 제시한 개념에 대한 설명으로 옳은 것은?', '시스템 콜은 응용 프로그램과 운영체제 커널 사이의 인터페이스이다.', 'OBJECTIVE'),
       (1182, 170, '빈칸에 들어갈 알맞은 말을 작성하시오', '사용자 모드에서 실행되는 프로그램이 하드웨어에 접근하려면 _____을 통해 커널 모드로 전환해야 한다.', 'SUBJECTIVE'),
       (1183, 170, '제시된 내용과 관련하여 옳은 것은?', '운영체제는 두 가지 모드로 시스템을 보호한다.', 'OBJECTIVE'),
       (1184, 170, '아래 제시한 개념에 대한 설명으로 옳은 것은?', '시스템 콜은 특정 메커니즘을 통해 구현된다.', 'OBJECTIVE'),
       (1185, 170, '빈칸에 들어갈 알맞은 말을 작성하시오', '커널 모드의 모드 비트는 ___이고, 사용자 모드의 모드 비트는 1이다.', 'SUBJECTIVE'),
       (1186, 170, '제시된 내용과 관련하여 옳은 것은?', '시스템 콜 실행에 필요한 매개변수를 전달하는 여러 방법이 있다.', 'OBJECTIVE'),
       (1187, 170, '아래 제시한 개념에 대한 설명으로 옳은 것은?', '응용 프로그램은 특정 작업을 위해 시스템 콜을 사용해야 한다.', 'OBJECTIVE');

INSERT INTO option (id, problem_id, content, explanation, is_answer)
VALUES
-- 문제 1181
(3363, 1181, '시스템 콜은 응용 프로그램 내부의 함수 호출이다', '시스템 콜은 운영체제 커널을 호출하는 것이다.', false),
(3364, 1181, '응용 프로그램이 운영체제 커널에게 서비스를 요청하는 인터페이스이다', '시스템 콜은 사용자 모드의 프로그램이 하드웨어 자원에 접근하거나 특권 명령을 실행하기 위해 커널에게 요청하는 인터페이스이다.', true),
(3365, 1181, '시스템 콜은 하드웨어 장치이다', '시스템 콜은 소프트웨어 인터페이스이다.', false),
(3366, 1181, '시스템 콜 없이도 하드웨어에 직접 접근할 수 있다', '시스템의 안정성을 위해 하드웨어 접근은 시스템 콜을 통해서만 가능하다.', false),

-- 문제 1183
(3367, 1183, '사용자 모드는 모든 명령어를 실행할 수 있다', '커널 모드가 모든 명령어를 실행할 수 있다.', false),
(3368, 1183, '사용자 모드는 제한된 명령어만 실행 가능하고 커널 모드는 모든 명령어 실행 가능하다', '사용자 모드는 응용 프로그램이 실행되며 하드웨어 직접 접근이 불가능하다. 커널 모드는 운영체제 커널이 실행되며 모든 권한을 가진다.', true),
(3369, 1183, '커널 모드는 하드웨어에 접근할 수 없다', '커널 모드는 하드웨어에 직접 접근할 수 있다.', false),
(3370, 1183, '모드 전환은 불가능하다', '시스템 콜을 통해 모드 전환이 가능하다.', false),

-- 문제 1184
(3371, 1184, '하드웨어 인터럽트', '하드웨어 장치에 의해 발생하는 인터럽트이다.', false),
(3372, 1184, '소프트웨어 인터럽트 (Trap)', '시스템 콜은 소프트웨어 인터럽트(트랩)를 통해 구현된다. 프로그램이 명시적으로 발생시키는 동기적 인터럽트이다.', true),
(3373, 1184, '타이머 인터럽트', '주기적인 시간 만료 시 발생하는 인터럽트이다.', false),
(3374, 1184, 'I/O 인터럽트', '입출력 장치의 작업 완료 시 발생하는 인터럽트이다.', false),

-- 문제 1186
(3375, 1186, '레지스터 전달 - 매개변수를 CPU 레지스터에 저장', '가장 빠른 방법이지만 레지스터 수에 제한이 있다.', false),
(3376, 1186, '메모리 블록 전달 - 메모리에 저장하고 주소를 레지스터에 전달', '매개변수 개수 제한이 없다.', false),
(3377, 1186, '스택 전달 - 스택에 push하고 운영체제가 pop', '매개변수 개수 제한이 없다.', false),
(3378, 1186, '네트워크 전달 - 네트워크를 통해 전달', '네트워크 전달은 시스템 콜의 매개변수 전달 방법이 아니다. 레지스터, 메모리 블록, 스택 전달 세 가지가 사용된다.', true),

-- 문제 1187
(3379, 1187, '변수 선언', '변수 선언은 프로그램 내부에서 처리 가능하다.', false),
(3380, 1187, '파일 입출력 (open, read, write)', '파일 입출력은 하드웨어 접근이 필요하므로 시스템 콜을 통해서만 가능하다. 시스템의 안정성과 보안을 위해 커널만 수행할 수 있다.', true),
(3381, 1187, '함수 호출', '함수 호출은 프로그램 내부에서 처리 가능하다.', false),
(3382, 1187, '사칙 연산', '사칙 연산은 CPU에서 직접 처리 가능하다.', false);

INSERT INTO answer (id, problem_id, content, explanation)
VALUES (339, 1182, '시스템 콜,system call,시스템콜', '사용자 모드에서 실행되는 프로그램이 하드웨어에 접근하려면 시스템 콜을 통해 커널 모드로 전환해야 한다.'),
       (340, 1185, '0', '커널 모드의 모드 비트는 0이고, 사용자 모드의 모드 비트는 1이다. 모드 비트로 현재 동작 모드를 구분한다.');


-- ===== Lesson 2: 주요 시스템 콜 =====

INSERT INTO problem (id, lesson_id, instruction, content, problem_type)
VALUES (1188, 171, '아래 제시한 개념에 대한 설명으로 옳은 것은?', 'fork()는 새로운 프로세스를 생성하는 시스템 콜이다.', 'OBJECTIVE'),
       (1189, 171, '빈칸에 들어갈 알맞은 말을 작성하시오', '현재 프로세스의 메모리 공간을 새로운 프로그램으로 교체하는 시스템 콜은 _____이다.', 'SUBJECTIVE'),
       (1190, 171, '제시된 내용과 관련하여 옳은 것은?', 'exec() 함수는 프로세스를 새로운 프로그램으로 교체한다.', 'OBJECTIVE'),
       (1191, 171, '아래 제시한 개념에 대한 설명으로 옳은 것은?', '시스템 콜은 기능에 따라 다섯 가지로 분류된다.', 'OBJECTIVE'),
       (1192, 171, '빈칸에 들어갈 알맞은 말을 작성하시오', '자식 프로세스가 종료될 때까지 부모 프로세스를 대기시키는 시스템 콜은 _____이다.', 'SUBJECTIVE'),
       (1193, 171, '제시된 내용과 관련하여 옳지 않은 것은?', '파일 관리 시스템 콜은 파일 입출력을 담당한다.', 'OBJECTIVE'),
       (1194, 171, '아래 제시한 개념에 대한 설명으로 옳은 것은?', '통신 시스템 콜은 프로세스 간 통신을 지원한다.', 'OBJECTIVE');

INSERT INTO option (id, problem_id, content, explanation, is_answer)
VALUES
-- 문제 1188
(3383, 1188, '항상 0을 반환한다', 'fork()는 부모와 자식에서 다른 값을 반환한다.', false),
(3384, 1188, '부모 프로세스에서는 자식 PID, 자식 프로세스에서는 0을 반환한다', 'fork()는 부모 프로세스에서는 생성된 자식의 PID(양수)를 반환하고, 자식 프로세스에서는 0을 반환한다. 실패 시 -1을 반환한다.', true),
(3385, 1188, '부모와 자식 모두 같은 PID를 반환한다', '부모와 자식은 서로 다른 값을 반환한다.', false),
(3386, 1188, '항상 -1을 반환한다', '-1은 실패 시에만 반환된다.', false),

-- 문제 1190
(3387, 1190, 'exec() 성공 시 원래 프로그램으로 돌아온다', 'exec() 성공 시 원래 프로그램으로 돌아오지 않는다.', false),
(3388, 1190, 'exec() 성공 시 PID가 변경된다', 'PID는 유지되지만 프로그램이 교체된다.', false),
(3389, 1190, 'exec() 성공 시 원래 프로그램으로 돌아오지 않고 PID는 유지된다', 'exec()는 현재 프로세스의 메모리를 새로운 프로그램으로 완전히 교체한다. PID는 유지되지만 프로그램 전체가 바뀌므로 성공 시 원래 코드로 돌아올 수 없다.', true),
(3390, 1190, '새로운 프로세스를 생성한다', 'fork()가 새로운 프로세스를 생성한다.', false),

-- 문제 1191
(3391, 1191, '프로세스 제어 - open(), read(), write()', '이것은 파일 관리의 예시이다.', false),
(3392, 1191, '파일 관리 - open(), read(), write()', '파일 관리 시스템 콜은 파일을 열고, 읽고, 쓰고, 닫는 작업을 수행한다. open, read, write, close, lseek 등이 있다.', true),
(3393, 1191, '장치 관리 - fork(), exec(), wait()', '이것은 프로세스 제어의 예시이다.', false),
(3394, 1191, '정보 유지 - socket(), pipe()', '이것은 통신의 예시이다.', false),

-- 문제 1193
(3395, 1193, 'open() - 파일 열기', '파일 관리 시스템 콜이다.', false),
(3396, 1193, 'read() - 파일 읽기', '파일 관리 시스템 콜이다.', false),
(3397, 1193, 'write() - 파일 쓰기', '파일 관리 시스템 콜이다.', false),
(3398, 1193, 'fork() - 파일 복사', 'fork()는 프로세스 제어 시스템 콜로 새로운 프로세스를 생성한다. 파일 관리와는 무관하다.', true),

-- 문제 1194
(3399, 1194, 'pipe() - 파이프 생성', 'pipe()는 프로세스 간 통신을 위한 파이프를 생성하는 통신 시스템 콜이다.', true),
(3400, 1194, 'open() - 파일 열기', '파일 관리 시스템 콜이다.', false),
(3401, 1194, 'fork() - 프로세스 생성', '프로세스 제어 시스템 콜이다.', false),
(3402, 1194, 'time() - 시간 조회', '정보 유지 시스템 콜이다.', false);

INSERT INTO answer (id, problem_id, content, explanation)
VALUES (341, 1189, 'exec,execl,execv,execlp,execvp', '현재 프로세스의 메모리 공간을 새로운 프로그램으로 교체하는 시스템 콜은 exec()이다. execl, execv, execlp, execvp 등이 있다.'),
       (342, 1192, 'wait,waitpid', '자식 프로세스가 종료될 때까지 부모 프로세스를 대기시키는 시스템 콜은 wait()이다. waitpid()로 특정 자식을 대기할 수도 있다.');


-- ===== Lesson 3: 시스템 콜 비교 =====

INSERT INTO problem (id, lesson_id, instruction, content, problem_type)
VALUES (1195, 172, '아래 제시한 개념에 대한 설명으로 옳은 것은?', '시스템 콜과 함수 호출은 서로 다른 메커니즘이다.', 'OBJECTIVE'),
       (1196, 172, '빈칸에 들어갈 알맞은 말을 작성하시오', '시스템 콜은 사용자 모드에서 _____로 전환되어 실행된다.', 'SUBJECTIVE'),
       (1197, 172, '제시된 내용과 관련하여 옳은 것은?', '라이브러리 함수와 시스템 콜은 추상화 수준이 다르다.', 'OBJECTIVE'),
       (1198, 172, '아래 제시한 개념에 대한 설명으로 옳지 않은 것은?', '시스템 콜은 특정한 특징을 가진다.', 'OBJECTIVE'),
       (1199, 172, '빈칸에 들어갈 알맞은 말을 작성하시오', '시스템 콜은 _____보다 오버헤드가 크지만 특권 명령을 실행할 수 있다.', 'SUBJECTIVE'),
       (1200, 172, '제시된 내용과 관련하여 옳은 것은?', '인터럽트와 시스템 콜은 발생 방식이 다르다.', 'OBJECTIVE'),
       (1201, 172, '아래 제시한 개념에 대한 설명으로 옳은 것은?', '라이브러리 함수는 시스템 콜을 감싸 사용하기 쉽게 만든다.', 'OBJECTIVE');

INSERT INTO option (id, problem_id, content, explanation, is_answer)
VALUES
-- 문제 1195
(3403, 1195, '둘 다 모드 전환이 발생한다', '함수 호출은 모드 전환이 없다.', false),
(3404, 1195, '시스템 콜은 모드 전환이 발생하지만 함수 호출은 발생하지 않는다', '시스템 콜은 사용자 모드에서 커널 모드로 전환되어 오버헤드가 크다. 함수 호출은 같은 프로세스 내에서 스택 조작만 하므로 모드 전환이 없다.', true),
(3405, 1195, '함수 호출이 시스템 콜보다 오버헤드가 크다', '시스템 콜이 모드 전환으로 인해 오버헤드가 더 크다.', false),
(3406, 1195, '시스템 콜은 커널을 호출하지 않는다', '시스템 콜은 운영체제 커널을 호출한다.', false),

-- 문제 1197
(3407, 1197, '라이브러리 함수는 추상화가 낮고 시스템 콜은 높다', '반대이다. 라이브러리 함수가 추상화가 높다.', false),
(3408, 1197, '라이브러리 함수는 추상화가 높고 사용하기 쉽다', '라이브러리 함수는 시스템 콜을 감싸서 더 사용하기 쉽게 만든다. 표준 C 라이브러리로 이식성이 높다. 예: printf()는 내부적으로 write()를 사용한다.', true),
(3409, 1197, '시스템 콜이 라이브러리 함수보다 이식성이 높다', '시스템 콜은 OS 의존적이어서 이식성이 낮다.', false),
(3410, 1197, '라이브러리 함수는 버퍼링을 하지 않는다', '라이브러리 함수는 버퍼링으로 효율성을 높인다.', false),

-- 문제 1198
(3411, 1198, '운영체제 커널을 호출한다', '시스템 콜의 특징이다.', false),
(3412, 1198, '모드 전환이 발생한다', '시스템 콜의 특징이다.', false),
(3413, 1198, '특권 명령을 실행할 수 있다', '시스템 콜의 특징이다.', false),
(3414, 1198, '오버헤드가 없다', '시스템 콜은 모드 전환으로 인해 오버헤드가 크다. 이것은 잘못된 설명이다.', true),

-- 문제 1200
(3415, 1200, '인터럽트는 동기적이고 시스템 콜은 비동기적이다', '반대이다. 시스템 콜이 동기적이다.', false),
(3416, 1200, '인터럽트는 비동기적으로 발생하고 시스템 콜은 프로그램의 명시적 요청이다', '인터럽트는 하드웨어나 예외 상황에 의해 언제든지 비동기적으로 발생한다. 시스템 콜은 프로그램이 명령 실행 시 동기적으로 요청한다.', true),
(3417, 1200, '둘 다 하드웨어에 의해서만 발생한다', '시스템 콜은 프로그램에 의해 발생한다.', false),
(3418, 1200, '시스템 콜은 인터럽트와 무관하다', '시스템 콜은 소프트웨어 인터럽트를 통해 구현된다.', false),

-- 문제 1201
(3419, 1201, 'fork() - 프로세스 생성', 'fork()는 시스템 콜이다.', false),
(3420, 1201, 'printf() - 포맷 출력', 'printf()는 표준 C 라이브러리 함수로, 내부적으로 write() 시스템 콜을 사용한다. 버퍼링을 통해 효율적으로 동작한다.', true),
(3421, 1201, 'read() - 파일 읽기', 'read()는 시스템 콜이다.', false),
(3422, 1201, 'exec() - 프로그램 교체', 'exec()는 시스템 콜이다.', false);

INSERT INTO answer (id, problem_id, content, explanation)
VALUES (343, 1196, '커널 모드,kernel mode,커널모드', '시스템 콜은 사용자 모드에서 커널 모드로 전환되어 실행된다. 커널 모드에서 특권 명령을 수행한 후 다시 사용자 모드로 복귀한다.'),
       (344, 1199, '함수 호출,function call,함수호출', '시스템 콜은 함수 호출보다 오버헤드가 크지만 특권 명령을 실행할 수 있다. 모드 전환 비용 때문에 오버헤드가 발생한다.');
