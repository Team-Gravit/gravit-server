-- Chapter: 데이터베이스 (id: 4), Unit: 정규화 (id: 53)

-- Lesson 1: 정규화 기초 (ID: 155)
INSERT INTO lesson (id, title, unit_id)
VALUES (155, '정규화 기초', 53);

INSERT INTO problem (id, lesson_id, instruction, content, problem_type)
VALUES (1076, 155, '다음 중 정규화(Normalization)에 대한 설명으로 올바른 것은?', '정규화는 데이터베이스 설계 과정에서 중요한 개념이다.', 'OBJECTIVE'),
       (1077, 155, '빈칸에 들어갈 용어를 작성하시오.', '정규화는 데이터의 ___를 제거하여 이상 현상을 방지한다.', 'SUBJECTIVE'),
       (1078, 155, '다음 중 정규화의 목적으로 올바르지 않은 것은?', '정규화는 데이터베이스의 품질을 향상시키기 위해 수행한다.', 'OBJECTIVE'),
       (1079, 155, '다음 중 이상 현상(Anomaly)의 종류로 올바른 것은?', '정규화되지 않은 테이블에서는 다양한 이상 현상이 발생할 수 있다.', 'OBJECTIVE'),
       (1080, 155, '빈칸에 들어갈 용어를 작성하시오.', '데이터 삽입 시 원치 않는 데이터도 함께 삽입해야 하는 문제를 ___ 이상이라고 한다.', 'SUBJECTIVE'),
       (1081, 155, '다음 중 삭제 이상(Deletion Anomaly)의 설명으로 올바른 것은?', '삭제 이상은 정규화되지 않은 테이블에서 발생하는 문제이다.', 'OBJECTIVE'),
       (1082, 155, '다음 중 갱신 이상(Update Anomaly)의 예시로 올바른 것은?', '갱신 이상은 데이터 불일치를 초래할 수 있다.', 'OBJECTIVE');

INSERT INTO option (id, problem_id, content, explanation, is_answer)
VALUES
-- 문제 1076
(3063, 1076, '정규화는 데이터 중복을 증가시킨다', '정규화는 데이터 중복을 제거한다.', false),
(3064, 1076, '정규화는 테이블을 분리하여 데이터 중복과 이상 현상을 제거한다', '정규화는 함수적 종속성을 기반으로 테이블을 분해하여 데이터 중복을 최소화하고 이상 현상을 방지한다.', true),
(3065, 1076, '정규화는 테이블을 합치는 과정이다', '반정규화가 테이블을 합치는 과정이다.', false),
(3066, 1076, '정규화는 인덱스를 생성하는 과정이다', '정규화는 테이블 구조를 개선하는 과정이다.', false),

-- 문제 1078
(3067, 1078, '데이터 중복을 최소화하기 위해', '정규화는 데이터 중복을 제거한다.', false),
(3068, 1078, '이상 현상을 방지하기 위해', '정규화는 삽입, 삭제, 갱신 이상을 방지한다.', false),
(3069, 1078, '데이터 무결성을 보장하기 위해', '정규화는 데이터의 일관성과 정확성을 유지한다.', false),
(3070, 1078, '조회 성능을 향상시키기 위해', '정규화는 데이터 무결성이 목적이며, 조회 성능 향상이 주목적이 아니다. 오히려 조인이 많아져 성능이 저하될 수 있다.', true),

-- 문제 1079
(3071, 1079, '삽입 이상, 삭제 이상, 갱신 이상', '정규화되지 않은 테이블에서는 삽입 이상, 삭제 이상, 갱신 이상이 발생할 수 있다.', true),
(3072, 1079, '삽입 이상, 삭제 이상, 조회 이상', '조회 이상은 없다.', false),
(3073, 1079, '생성 이상, 수정 이상, 제거 이상', '정확한 용어는 삽입, 삭제, 갱신 이상이다.', false),
(3074, 1079, '중복 이상, 불일치 이상, 손실 이상', '정확한 이상 현상의 분류가 아니다.', false),

-- 문제 1081
(3075, 1081, '데이터를 삽입할 때 발생하는 문제이다', '삽입 이상의 설명이다.', false),
(3076, 1081, '데이터를 삭제할 때 필요한 데이터까지 함께 삭제되는 문제이다', '삭제 이상은 특정 데이터를 삭제할 때 의도하지 않은 다른 정보까지 함께 삭제되는 현상이다.', true),
(3077, 1081, '데이터를 수정할 때 발생하는 문제이다', '갱신 이상의 설명이다.', false),
(3078, 1081, '데이터를 조회할 때 발생하는 문제이다', '조회 이상은 없다.', false),

-- 문제 1082
(3079, 1082, '동일한 정보가 여러 행에 중복 저장되어 일부만 수정하면 불일치가 발생하는 경우', '갱신 이상은 중복된 데이터 중 일부만 수정하여 데이터 불일치가 발생하는 현상이다. 모든 중복 데이터를 찾아 수정해야 한다.', true),
(3080, 1082, '새로운 데이터를 삽입할 수 없는 경우', '삽입 이상의 예시이다.', false),
(3081, 1082, '필요한 데이터까지 삭제되는 경우', '삭제 이상의 예시이다.', false),
(3082, 1082, '인덱스가 없어서 조회가 느린 경우', '이상 현상과 무관하다.', false);

INSERT INTO answer (id, problem_id, content, explanation)
VALUES (309, 1077, '중복, 중복성, redundancy', '정규화는 데이터의 중복을 제거하여 삽입, 삭제, 갱신 이상을 방지하고 데이터 무결성을 보장한다.'),
       (310, 1080, '삽입, insertion', '삽입 이상은 데이터를 삽입할 때 원하지 않는 데이터도 함께 삽입해야 하거나, 특정 데이터만 삽입할 수 없는 현상이다.');


-- Lesson 2: 정규형 (ID: 156)
INSERT INTO lesson (id, title, unit_id)
VALUES (156, '정규형', 53);

INSERT INTO problem (id, lesson_id, instruction, content, problem_type)
VALUES (1083, 156, '다음 중 제1정규형(1NF)의 조건으로 올바른 것은?', '제1정규형은 가장 기본적인 정규형이다.', 'OBJECTIVE'),
       (1084, 156, '빈칸에 들어갈 용어를 작성하시오.', '각 속성이 더 이상 분리할 수 없는 하나의 값만 가져야 하는 특성을 ___라고 한다.', 'SUBJECTIVE'),
       (1085, 156, '다음 중 제1정규형을 만족하지 않는 테이블은?', '제1정규형은 원자값을 가져야 한다.', 'OBJECTIVE'),
       (1086, 156, '다음 중 제2정규형(2NF)의 조건으로 올바른 것은?', '제2정규형은 부분 함수 종속을 제거한다.', 'OBJECTIVE'),
       (1087, 156, '빈칸에 들어갈 용어를 작성하시오.', '복합키의 일부 속성에만 종속되는 것을 ___ 함수 종속이라고 한다.', 'SUBJECTIVE'),
       (1088, 156, '다음 중 제3정규형(3NF)의 조건으로 올바른 것은?', '제3정규형은 이행적 종속을 제거한다.', 'OBJECTIVE'),
       (1089, 156, '다음 중 BCNF(Boyce-Codd Normal Form)의 특징으로 올바른 것은?', 'BCNF는 3NF보다 엄격한 정규형이다.', 'OBJECTIVE');

INSERT INTO option (id, problem_id, content, explanation, is_answer)
VALUES
-- 문제 1083
(3083, 1083, '모든 속성이 기본키에 완전 함수 종속되어야 한다', '제2정규형의 조건이다.', false),
(3084, 1083, '각 속성이 원자값을 가져야 한다', '제1정규형은 모든 속성이 더 이상 분리할 수 없는 원자값을 가져야 한다. 다중값이나 반복 그룹이 없어야 한다.', true),
(3085, 1083, '이행적 종속이 없어야 한다', '제3정규형의 조건이다.', false),
(3086, 1083, '모든 결정자가 후보키여야 한다', 'BCNF의 조건이다.', false),

-- 문제 1085
(3087, 1085, '학생(학번, 이름, 학과)', '각 속성이 원자값을 가진다.', false),
(3088, 1085, '학생(학번, 이름, 전화번호1, 전화번호2)', '전화번호가 분리되어 있지만 각각 원자값이다.', false),
(3089, 1085, '학생(학번, 이름, 생년월일)', '각 속성이 원자값을 가진다.', false),
(3090, 1085, '학생(학번, 이름, 수강과목)', '수강과목이 여러 개면 원자값이 아니다. 하나의 셀에 여러 과목이 들어가면 1NF를 위반한다.', true),

-- 문제 1086
(3091, 1086, '원자값을 가져야 한다', '제1정규형의 조건이다.', false),
(3092, 1086, '제1정규형을 만족하고 부분 함수 종속을 제거해야 한다', '제2정규형은 1NF를 만족하면서 모든 비주요 속성이 기본키에 완전 함수 종속되어야 한다. 부분 함수 종속을 제거해야 한다.', true),
(3093, 1086, '이행적 종속을 제거해야 한다', '제3정규형의 조건이다.', false),
(3094, 1086, '모든 결정자가 후보키여야 한다', 'BCNF의 조건이다.', false),

-- 문제 1088
(3095, 1088, '원자값을 가져야 한다', '제1정규형의 조건이다.', false),
(3096, 1088, '부분 함수 종속을 제거해야 한다', '제2정규형의 조건이다.', false),
(3097, 1088, '제2정규형을 만족하고 이행적 종속을 제거해야 한다', '제3정규형은 2NF를 만족하면서 비주요 속성 간의 이행적 종속을 제거해야 한다. A→B, B→C인 경우 A→C를 제거한다.', true),
(3098, 1088, '모든 결정자가 후보키여야 한다', 'BCNF의 조건이다.', false),

-- 문제 1089
(3099, 1089, 'BCNF는 모든 결정자가 후보키여야 한다', 'BCNF는 3NF를 만족하면서 모든 함수 종속에서 결정자가 후보키여야 한다. 3NF보다 엄격한 조건이다.', true),
(3100, 1089, 'BCNF는 제1정규형과 동일하다', 'BCNF는 3NF보다 강한 조건이다.', false),
(3101, 1089, 'BCNF는 제2정규형보다 약한 조건이다', 'BCNF는 3NF보다 강한 조건이다.', false),
(3102, 1089, 'BCNF는 부분 함수 종속만 제거한다', 'BCNF는 모든 결정자가 후보키여야 한다.', false);

INSERT INTO answer (id, problem_id, content, explanation)
VALUES (311, 1084, '원자값, 원자성, atomic value, atomicity', '각 속성이 더 이상 분리할 수 없는 하나의 값만 가져야 하는 특성을 원자값 또는 원자성이라고 한다. 제1정규형의 핵심 조건이다.'),
       (312, 1087, '부분, 부분적, partial', '복합키의 일부 속성에만 종속되는 것을 부분 함수 종속이라고 한다. 제2정규형은 부분 함수 종속을 제거한다.');


-- Lesson 3: 정규화 과정 (ID: 157)
INSERT INTO lesson (id, title, unit_id)
VALUES (157, '정규화 과정', 53);

INSERT INTO problem (id, lesson_id, instruction, content, problem_type)
VALUES (1090, 157, '다음 중 정규화 과정의 순서로 올바른 것은?', '정규화는 단계적으로 진행된다.', 'OBJECTIVE'),
       (1091, 157, '빈칸에 들어갈 용어를 작성하시오.', 'A → B 관계에서 A를 ___, B를 종속자라고 한다.', 'SUBJECTIVE'),
       (1092, 157, '다음 중 함수적 종속(Functional Dependency)의 표기로 올바른 것은?', '함수적 종속은 속성 간의 관계를 나타낸다.', 'OBJECTIVE'),
       (1093, 157, '다음 테이블을 제1정규형으로 변환할 때 올바른 방법은?', '학생(학번, 이름, 수강과목) 테이블에서 수강과목이 ''수학, 영어''처럼 저장되어 있다.', 'OBJECTIVE'),
       (1094, 157, '빈칸에 들어갈 정규형을 작성하시오.', '부분 함수 종속을 제거하면 ___에 도달한다.', 'SUBJECTIVE'),
       (1095, 157, '다음 중 이행적 함수 종속의 예시로 올바른 것은?', '이행적 종속은 A→B, B→C 관계를 의미한다.', 'OBJECTIVE'),
       (1096, 157, '다음 중 반정규화(Denormalization)가 필요한 경우는?', '정규화가 항상 최선은 아니다.', 'OBJECTIVE');

INSERT INTO option (id, problem_id, content, explanation, is_answer)
VALUES
-- 문제 1090
(3103, 1090, '1NF → 2NF → 3NF → BCNF', '정규화는 제1정규형부터 시작하여 제2정규형, 제3정규형, BCNF 순으로 진행된다. 각 단계는 이전 단계를 만족해야 한다.', true),
(3104, 1090, '1NF → 3NF → 2NF → BCNF', '순서가 잘못되었다.', false),
(3105, 1090, '2NF → 1NF → BCNF → 3NF', '순서가 잘못되었다.', false),
(3106, 1090, 'BCNF → 3NF → 2NF → 1NF', '역순이다.', false),

-- 문제 1092
(3107, 1092, 'A ← B', '화살표 방향이 반대이다.', false),
(3108, 1092, 'A = B', '등호는 함수적 종속을 나타내지 않는다.', false),
(3109, 1092, 'A + B', '덧셈 기호는 함수적 종속과 무관하다.', false),
(3110, 1092, 'A → B', 'A → B는 A가 B를 함수적으로 결정한다는 의미이다. A 값이 정해지면 B 값이 유일하게 결정된다.', true),

-- 문제 1093
(3111, 1093, '학생(학번, 이름, 수강과목1, 수강과목2, 수강과목3)', '컬럼을 추가하는 것은 1NF 해결 방법이 아니다.', false),
(3112, 1093, '학생(학번, 이름), 수강(학번, 과목)', '다중값 속성을 별도 테이블로 분리하여 각 수강 과목을 별도 행으로 저장한다. 이것이 1NF를 만족하는 방법이다.', true),
(3113, 1093, '학생(학번, 이름, 수강과목) - 그대로 유지', '다중값이 있으면 1NF를 위반한다.', false),
(3114, 1093, '학생(학번), 학생정보(이름, 수강과목)', '수강과목의 다중값 문제를 해결하지 못한다.', false),

-- 문제 1095
(3115, 1095, '학번 → 이름', '직접 종속이다.', false),
(3116, 1095, '학번 → 학과코드, 학과코드 → 학과명', '학번이 학과코드를 결정하고, 학과코드가 학과명을 결정한다. 학번 → 학과명의 이행적 종속이 발생한다.', true),
(3117, 1095, '학번, 과목코드 → 성적', '복합키 종속이다.', false),
(3118, 1095, '주민번호 → 이름', '직접 종속이다.', false),

-- 문제 1096
(3119, 1096, '조회 성능이 크게 저하되어 개선이 필요한 경우', '과도한 정규화로 조인이 많아지면 조회 성능이 저하될 수 있다. 이 경우 의도적으로 반정규화하여 성능을 개선할 수 있다.', true),
(3120, 1096, '데이터 무결성을 강화하기 위해', '정규화가 무결성을 강화한다.', false),
(3121, 1096, '이상 현상을 발생시키기 위해', '반정규화는 성능 개선이 목적이다.', false),
(3122, 1096, '테이블을 더 분리하기 위해', '반정규화는 테이블을 합치거나 중복을 허용한다.', false);

INSERT INTO answer (id, problem_id, content, explanation)
VALUES (313, 1091, '결정자, determinant', 'A → B 관계에서 A를 결정자, B를 종속자라고 한다. 결정자는 다른 속성의 값을 유일하게 결정하는 속성이다.'),
       (314, 1094, '제2정규형, 2NF, 2정규형', '부분 함수 종속을 제거하면 제2정규형에 도달한다. 모든 비주요 속성이 기본키에 완전 함수 종속되어야 한다.');
