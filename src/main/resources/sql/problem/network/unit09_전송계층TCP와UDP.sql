-- Unit: 전송 계층: TCP와 UDP (Unit ID: 36)
-- Chapter: 네트워크 (Chapter ID: 3)

-- Lesson 생성
INSERT INTO lesson (id, unit_id, title)
VALUES (104, 36, 'TCP 기초와 연결 설정 문제집'),
       (105, 36, 'TCP 연결 종료와 흐름 제어 문제집'),
       (106, 36, 'UDP와 TCP 비교 문제집');

-- =====================================================
-- Lesson 104: TCP 기초와 연결 설정 문제집 (ID: 104)
-- =====================================================

INSERT INTO problem (id, lesson_id, instruction, content, problem_type)
VALUES (701, 104, '아래 제시한 개념에 대한 설명으로 옳은 것은?', 'TCP는 인터넷 통신에서 특정 역할을 수행한다.', 'OBJECTIVE'),
       (702, 104, '빈칸에 들어갈 알맞은 말을 작성하시오', 'TCP는 ___의 프로토콜이다.', 'SUBJECTIVE'),
       (703, 104, '제시된 내용과 관련하여 옳은 것은?', 'TCP/IP는 특정 프로토콜들의 조합이다.', 'OBJECTIVE'),
       (704, 104, '제시된 내용과 관련하여 옳은 것은?', 'TCP는 연결형 프로토콜이다.', 'OBJECTIVE'),
       (705, 104, '빈칸에 들어갈 알맞은 말을 작성하시오', 'TCP는 연결 설정 시 ___을 사용한다.', 'SUBJECTIVE'),
       (706, 104, '제시된 내용과 관련하여 옳은 것은?', '3-Way Handshake는 특정 순서로 진행된다.', 'OBJECTIVE'),
       (707, 104, '제시된 내용과 관련하여 옳은 것은?', '3-Way Handshake는 특정 순서로 진행된다.', 'OBJECTIVE'),
       (708, 104, '제시된 내용과 관련하여 옳은 것은?', '3-Way Handshake는 특정 순서로 진행된다.', 'OBJECTIVE');

INSERT INTO option (id, problem_id, content, explanation, is_answer)
VALUES (1971, 701, '인터넷에서 데이터를 안정적으로 전달하기 위한 전송 계층 프로토콜이다', 'TCP는 데이터를 안정적으로 전달하는 전송 계층 프로토콜이므로 정답이다.', true),
       (1972, 701, '응용 계층 프로토콜이다', 'TCP는 전송 계층 프로토콜이므로 오답이다.', false),
       (1973, 701, '네트워크 계층 프로토콜이다', 'TCP는 전송 계층 프로토콜이므로 오답이다.', false),
       (1974, 701, '물리 계층 프로토콜이다', 'TCP는 전송 계층 프로토콜이므로 오답이다.', false),

       (1975, 703, 'TCP만 사용한다', 'TCP/IP는 TCP와 IP를 함께 사용하므로 오답이다.', false),
       (1976, 703, 'TCP와 IP를 함께 사용하는 인터넷 통신의 기본 규칙 세트이다', 'TCP/IP는 TCP와 IP를 함께 사용하는 통신 규칙 세트이므로 정답이다.', true),
       (1977, 703, 'IP만 사용한다', 'TCP/IP는 TCP와 IP를 함께 사용하므로 오답이다.', false),
       (1978, 703, 'UDP를 포함한다', 'TCP/IP는 TCP와 IP의 조합이므로 오답이다.', false),

       (1979, 704, '연결 없이 바로 데이터를 전송한다', '연결 없이 전송하는 것은 UDP이므로 오답이다.', false),
       (1980, 704, '핸드셰이크를 사용하지 않는다', 'TCP는 핸드셰이크를 사용하므로 오답이다.', false),
       (1981, 704, '데이터를 주고받기 전에 통신 가능 상태를 확인하고 연결을 맺는다', 'TCP는 연결형 프로토콜로 연결을 먼저 맺으므로 정답이다.', true),
       (1982, 704, '비연결형 프로토콜이다', 'TCP는 연결형 프로토콜이므로 오답이다.', false),

       (1983, 706, '서버가 ACK를 전송한다', 'ACK는 세 번째 단계이므로 오답이다.', false),
       (1984, 706, '클라이언트가 ACK를 전송한다', '클라이언트 ACK는 세 번째 단계이므로 오답이다.', false),
       (1985, 706, '클라이언트가 서버에 SYN 플래그를 1로 설정한 패킷을 전송한다', '3-Way Handshake의 첫 단계는 클라이언트가 SYN 패킷을 전송하므로 정답이다.', true),
       (1986, 706, '서버가 SYN만 전송한다', '서버는 SYN과 ACK를 함께 전송하므로 오답이다.', false),

       (1987, 707, '클라이언트가 SYN을 전송한다', '클라이언트 SYN은 첫 번째 단계이므로 오답이다.', false),
       (1988, 707, '클라이언트가 ACK만 전송한다', '클라이언트 ACK는 세 번째 단계이므로 오답이다.', false),
       (1989, 707, '서버가 FIN을 전송한다', 'FIN은 연결 종료 시 사용되므로 오답이다.', false),
       (1990, 707, '서버가 SYN과 ACK 플래그를 함께 전송한다', '3-Way Handshake의 두 번째 단계는 서버가 SYN과 ACK를 함께 전송하므로 정답이다.', true),

       (1991, 708, '서버가 SYN을 전송한다', '서버 SYN은 두 번째 단계에 포함되므로 오답이다.', false),
       (1992, 708, '클라이언트가 ACK 플래그를 전송하고 연결이 성립된다', '3-Way Handshake의 세 번째 단계는 클라이언트가 ACK를 전송하고 연결이 성립되므로 정답이다.', true),
       (1993, 708, '클라이언트가 SYN을 전송한다', '클라이언트 SYN은 첫 번째 단계이므로 오답이다.', false),
       (1994, 708, '서버가 FIN을 전송한다', 'FIN은 연결 종료 시 사용되므로 오답이다.', false);

INSERT INTO answer (id, problem_id, content, explanation)
VALUES (207, 702, 'transport layer,전송 계층,전송층,4계층', 'TCP는 전송 계층의 프로토콜이다. 전송 계층은 OSI 7계층의 4계층으로 종단 간 신뢰성 있는 데이터 전송을 담당한다.'),
       (208, 705, '3-way handshake,3way handshake,3웨이 핸드셰이크,3웨이핸드셰이크,3-웨이 핸드셰이크', 'TCP는 연결 설정 시 3-Way Handshake를 사용한다. 이는 SYN과 SYN-ACK와 ACK 세 단계로 구성되며 정확한 전송을 보장한다.');

-- =====================================================
-- Lesson 105: TCP 연결 종료와 흐름 제어 문제집 (ID: 105)
-- =====================================================

INSERT INTO problem (id, lesson_id, instruction, content, problem_type)
VALUES (709, 105, '아래 제시한 개념에 대한 설명으로 옳은 것은?', 'TCP는 Sequence Number를 사용한다.', 'OBJECTIVE'),
       (710, 105, '빈칸에 들어갈 알맞은 말을 작성하시오', 'TCP에서 다음에 받아야 할 바이트 번호를 나타내는 것은 ___이다.', 'SUBJECTIVE'),
       (711, 105, '아래 제시한 개념에 대한 설명으로 옳은 것은?', '4-Way Handshake는 특정 목적으로 사용된다.', 'OBJECTIVE'),
       (712, 105, '제시된 내용과 관련하여 옳은 것은?', '4-Way Handshake는 특정 순서로 진행된다.', 'OBJECTIVE'),
       (713, 105, '빈칸에 들어갈 알맞은 말을 작성하시오', 'TCP 연결 종료 시 ___을 사용한다.', 'SUBJECTIVE'),
       (714, 105, '제시된 내용과 관련하여 옳은 것은?', '4-Way Handshake는 특정 순서로 진행된다.', 'OBJECTIVE'),
       (715, 105, '제시된 내용과 관련하여 옳은 것은?', '4-Way Handshake는 특정 순서로 진행된다.', 'OBJECTIVE'),
       (716, 105, '제시된 내용과 관련하여 옳은 것은?', '4-Way Handshake는 특정 순서로 진행된다.', 'OBJECTIVE');

INSERT INTO option (id, problem_id, content, explanation, is_answer)
VALUES (1995, 709, '다음에 받을 바이트 번호를 나타낸다', '다음에 받을 바이트는 Ack Number이므로 오답이다.', false),
       (1996, 709, '현재 패킷의 시작 바이트 번호를 나타낸다', 'Sequence Number는 현재 패킷의 시작 바이트 번호를 나타내므로 정답이다.', true),
       (1997, 709, 'IP 주소를 나타낸다', 'Sequence Number는 IP 주소가 아니므로 오답이다.', false),
       (1998, 709, '포트 번호를 나타낸다', 'Sequence Number는 포트 번호가 아니므로 오답이다.', false),

       (1999, 711, '연결 설정 시 사용된다', '연결 설정은 3-Way Handshake를 사용하므로 오답이다.', false),
       (2000, 711, '데이터 전송 시 사용된다', '4-Way Handshake는 연결 종료용이므로 오답이다.', false),
       (2001, 711, '연결 종료 시 사용된다', '4-Way Handshake는 연결 종료 시 사용되므로 정답이다.', true),
       (2002, 711, '오류 검출 시 사용된다', '4-Way Handshake는 오류 검출용이 아니므로 오답이다.', false),

       (2003, 712, '서버가 FIN을 전송한다', '서버 FIN은 세 번째 단계이므로 오답이다.', false),
       (2004, 712, '클라이언트가 ACK를 전송한다', '클라이언트 ACK는 네 번째 단계이므로 오답이다.', false),
       (2005, 712, '서버가 SYN을 전송한다', 'SYN은 연결 설정 시 사용되므로 오답이다.', false),
       (2006, 712, '클라이언트가 CLOSE를 호출하고 FIN 플래그를 전송한다', '4-Way Handshake의 첫 단계는 클라이언트가 FIN을 전송하므로 정답이다.', true),

       (2007, 714, '클라이언트가 FIN을 전송한다', '클라이언트 FIN은 첫 번째 단계이므로 오답이다.', false),
       (2008, 714, '서버가 FIN을 전송한다', '서버 FIN은 세 번째 단계이므로 오답이다.', false),
       (2009, 714, '클라이언트가 SYN을 전송한다', 'SYN은 연결 설정 시 사용되므로 오답이다.', false),
       (2010, 714, '서버가 ACK 플래그를 전송하고 CLOSE_WAIT 상태로 전환한다', '4-Way Handshake의 두 번째 단계는 서버가 ACK를 전송하고 CLOSE_WAIT 상태가 되므로 정답이다.', true),

       (2011, 715, '클라이언트가 FIN을 전송한다', '클라이언트 FIN은 첫 번째 단계이므로 오답이다.', false),
       (2012, 715, '서버가 ACK만 전송한다', '서버 ACK는 두 번째 단계이므로 오답이다.', false),
       (2013, 715, '서버가 CLOSE를 호출하고 FIN 플래그를 전송한다', '4-Way Handshake의 세 번째 단계는 서버가 CLOSE를 호출하고 FIN을 전송하므로 정답이다.', true),
       (2014, 715, '클라이언트가 ACK를 전송한다', '클라이언트 ACK는 네 번째 단계이므로 오답이다.', false),

       (2015, 716, '서버가 FIN을 전송한다', '서버 FIN은 세 번째 단계이므로 오답이다.', false),
       (2016, 716, '클라이언트가 FIN을 전송한다', '클라이언트 FIN은 첫 번째 단계이므로 오답이다.', false),
       (2017, 716, '서버가 ACK를 전송한다', '서버 ACK는 두 번째 단계이므로 오답이다.', false),
       (2018, 716, '클라이언트가 ACK 플래그를 전송하고 TIME_WAIT 후 CLOSED 상태로 전환한다', '4-Way Handshake의 네 번째 단계는 클라이언트가 ACK를 전송하고 TIME_WAIT 후 CLOSED가 되므로 정답이다.', true);

INSERT INTO answer (id, problem_id, content, explanation)
VALUES (209, 710, 'ack number,acknowledgement number,확인 응답 번호,확인응답번호', 'TCP에서 다음에 받아야 할 바이트 번호를 나타내는 것은 Ack Number이다. Sequence Number가 현재 패킷의 시작 바이트를 나타낸다면 Ack Number는 다음에 수신할 바이트를 나타낸다.'),
       (210, 713, '4-way handshake,4way handshake,4웨이 핸드셰이크,4웨이핸드셰이크,4-웨이 핸드셰이크', 'TCP 연결 종료 시 4-Way Handshake를 사용한다. 이는 FIN과 ACK와 FIN과 ACK 네 단계로 구성되며 양방향 연결을 안전하게 종료한다.');

-- =====================================================
-- Lesson 106: UDP와 TCP 비교 문제집 (ID: 106)
-- =====================================================

INSERT INTO problem (id, lesson_id, instruction, content, problem_type)
VALUES (717, 106, '아래 제시한 개념에 대한 설명으로 옳은 것은?', 'UDP는 특정 특징을 가진 프로토콜이다.', 'OBJECTIVE'),
       (718, 106, '빈칸에 들어갈 알맞은 말을 작성하시오', 'UDP의 전송 단위는 ___이다.', 'SUBJECTIVE'),
       (719, 106, '제시된 내용과 관련하여 옳은 것은?', 'UDP는 여러 특징을 가진다.', 'OBJECTIVE'),
       (720, 106, '제시된 내용과 관련하여 옳은 것은?', 'UDP 헤더는 특정 정보로 구성된다.', 'OBJECTIVE'),
       (721, 106, '빈칸에 들어갈 알맞은 말을 작성하시오', '비연결형이고 신뢰성이 낮지만 빠른 전송이 가능한 프로토콜은 ___이다.', 'SUBJECTIVE'),
       (722, 106, '제시된 내용과 관련하여 옳은 것은?', 'TCP와 UDP는 연결 방식이 다르다.', 'OBJECTIVE'),
       (723, 106, '제시된 내용과 관련하여 옳은 것은?', 'TCP는 특정 특징을 가진다.', 'OBJECTIVE'),
       (724, 106, '제시된 내용과 관련하여 옳은 것은?', 'UDP는 특정 장점을 가진다.', 'OBJECTIVE');

INSERT INTO option (id, problem_id, content, explanation, is_answer)
VALUES (2019, 717, '연결을 맺고 신뢰성을 확보한다', '연결과 신뢰성은 TCP의 특징이므로 오답이다.', false),
       (2020, 717, '인터넷 통신에서 데이터를 빠르게 보내기 위한 전송 계층 프로토콜이다', 'UDP는 빠른 전송을 위한 전송 계층 프로토콜이므로 정답이다.', true),
       (2021, 717, '핸드셰이크를 수행한다', '핸드셰이크는 TCP에서 수행하므로 오답이다.', false),
       (2022, 717, '응용 계층 프로토콜이다', 'UDP는 전송 계층 프로토콜이므로 오답이다.', false),

       (2023, 719, '연결형이다', 'UDP는 비연결형이므로 오답이다.', false),
       (2024, 719, '신뢰성이 높다', 'UDP는 신뢰성이 낮으므로 오답이다.', false),
       (2025, 719, '비연결형이고 신뢰성이 낮으며 헤더가 단순하고 지연 및 오버헤드가 적다', 'UDP는 비연결형이고 신뢰성이 낮으며 헤더가 단순하고 지연이 적으므로 정답이다.', true),
       (2026, 719, '핸드셰이크를 수행한다', 'UDP는 핸드셰이크를 수행하지 않으므로 오답이다.', false),

       (2027, 720, 'Sequence Number를 포함한다', 'Sequence Number는 TCP에 포함되므로 오답이다.', false),
       (2028, 720, 'Ack Number를 포함한다', 'Ack Number는 TCP에 포함되므로 오답이다.', false),
       (2029, 720, '출발 포트와 도착 포트와 길이와 체크섬으로 구성된다', 'UDP 헤더는 출발 포트와 도착 포트와 길이와 체크섬으로 구성되므로 정답이다.', true),
       (2030, 720, '20바이트 이상이다', 'UDP 헤더는 8바이트이므로 오답이다.', false),

       (2031, 722, 'UDP가 연결을 확립한다', 'UDP는 비연결형이므로 오답이다.', false),
       (2032, 722, 'TCP가 연결 없이 전송한다', 'TCP는 연결형이므로 오답이다.', false),
       (2033, 722, '둘 다 연결을 확립한다', 'UDP는 연결을 확립하지 않으므로 오답이다.', false),
       (2034, 722, 'TCP는 3-Way Handshake로 연결을 확립하고 UDP는 연결 없이 즉시 전송한다', 'TCP는 핸드셰이크로 연결하고 UDP는 연결 없이 전송하므로 정답이다.', true),

       (2035, 723, '데이터그램으로 전송한다', '데이터그램은 UDP의 전송 단위이므로 오답이다.', false),
       (2036, 723, '바이트 스트림으로 전송하고 순서를 보장하며 오류 제어와 흐름 제어와 혼잡 제어를 수행한다', 'TCP는 바이트 스트림으로 전송하고 순서를 보장하며 여러 제어 기능을 수행하므로 정답이다.', true),
       (2037, 723, '순서를 보장하지 않는다', 'TCP는 순서를 보장하므로 오답이다.', false),
       (2038, 723, '오류 제어가 없다', 'TCP는 오류 제어를 수행하므로 오답이다.', false),

       (2039, 724, '신뢰성이 높다', 'UDP는 신뢰성이 낮으므로 오답이다.', false),
       (2040, 724, '순서를 보장한다', 'UDP는 순서를 보장하지 않으므로 오답이다.', false),
       (2041, 724, '흐름 제어를 수행한다', 'UDP는 흐름 제어를 수행하지 않으므로 오답이다.', false),
       (2042, 724, '지연 제거와 낮은 오버헤드와 응용 계층에서 필요 시 보완 가능하다', 'UDP는 지연이 적고 오버헤드가 낮으며 응용 계층에서 보완 가능하므로 정답이다.', true);

INSERT INTO answer (id, problem_id, content, explanation)
VALUES (211, 718, 'datagram,데이터그램', 'UDP의 전송 단위는 데이터그램이다. 데이터그램은 독립적으로 전송되며 TCP의 세그먼트와 달리 순서 보장이나 재전송 기능이 없다.'),
       (212, 721, 'udp,user datagram protocol', '비연결형이고 신뢰성이 낮지만 빠른 전송이 가능한 프로토콜은 UDP이다. UDP는 실시간 스트리밍이나 DNS 조회 등 빠른 전송이 중요한 경우에 사용된다.');
